package system.cli.api;

import java.io.IOException;

/**
 * Главный "руководящий" серверный процесс (аналог postmaster в PostgreSQL).
 *
 * Отвечает за:
 * - создание слушающего серверного сокета (ServerSocket) на заданном порту;
 * - бесконечный цикл accept():
 *     - принять новое соединение;
 *     - создать Engine (или переиспользовать общий);
 *     - создать BackendWorker для этого клиента;
 *     - запустить BackendWorker в отдельном потоке.
 *
 * Важно:
 * - Server САМ запросы не обрабатывает, только раздаёт их backend-потокам.
 */
public interface Server {

    /**
     * Запустить сервер и начать принимать клиентские соединения.
     *
     * Метод, как правило, блокирующий:
     * - создаёт ServerSocket;
     * - входит в бесконечный цикл accept();
     * - для каждого нового клиента создаёт и запускает BackendWorker.
     *
     * @throws IOException при ошибках работы с сетью (занят порт, проблемы с сокетами и т.п.).
     */
    void start() throws IOException;
}
